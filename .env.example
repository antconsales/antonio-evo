#===============================================
# ANTONIO EVO - Environment Configuration
# Optimized for Acemagician Mini PC (Ryzen 5 5600U, 32GB RAM)
# Copy to .env and customize for your setup
#===============================================

#-----------------------------------------------
# Service Endpoints
#-----------------------------------------------
# ASR (Speech-to-Text) - faster-whisper HTTP server
ASR_SERVER=http://localhost:8803
ASR_TIMEOUT=30

# TTS (Text-to-Speech) - piper-http server
TTS_SERVER=http://localhost:8804
TTS_TIMEOUT=10

# LLM (Ollama) - native install recommended
LLM_SERVER=http://localhost:11434
LLM_TIMEOUT=120

# Vector Database (Qdrant)
QDRANT_SERVER=http://localhost:6333

#-----------------------------------------------
# Model Selection
# With 32GB RAM you can use larger/better models
#-----------------------------------------------
# Ollama model options:
#   - mistral (7B, good balance)
#   - mistral-nemo (12B, better quality)
#   - qwen2.5:7b (good for coding)
#   - llama3.1:8b (latest Meta model)
OLLAMA_MODEL=mistral
OLLAMA_CONTEXT_LENGTH=8192

# Whisper model (with 32GB RAM, use 'small' or 'medium')
#   - tiny: fastest, lowest quality
#   - base: fast, decent quality
#   - small: good balance (recommended)
#   - medium: best quality, slower
WHISPER_MODEL=small
WHISPER_LANGUAGE=auto

# Piper voice
PIPER_VOICE=it_IT-riccardo-x_low
PIPER_SPEED=1.0

#-----------------------------------------------
# Warm-up Configuration
# Less critical with fast CPU, but still useful
#-----------------------------------------------
OLLAMA_WARMUP_ENABLED=true
OLLAMA_WARMUP_PROMPT=Ciao, come posso aiutarti?
OLLAMA_KEEPALIVE_MINUTES=10

#-----------------------------------------------
# RAG Configuration
#-----------------------------------------------
RAG_ENABLED=false
RAG_DOCS_PATH=data/knowledge
RAG_EMBEDDING_MODEL=all-MiniLM-L6-v2
RAG_CHUNK_SIZE=512
RAG_CHUNK_OVERLAP=50
RAG_TOP_K=5

#-----------------------------------------------
# External API (Fallback Only)
#-----------------------------------------------
EXTERNAL_API_KEY=
EXTERNAL_PROVIDER=anthropic
EXTERNAL_MODEL=claude-3-haiku-20240307

#-----------------------------------------------
# Document Parser (dots.ocr - VLM for OCR)
# Extracts text from image/PDF attachments in chat
#-----------------------------------------------
DOC_PARSER_ENABLED=true
DOC_PARSER_MODEL=yifeihu/dots.llm.ocr.1.7B
DOC_PARSER_DEVICE=cpu
DOC_PARSER_MAX_PAGES=5
DOC_PARSER_TIMEOUT=60
# Use vLLM HTTP server instead of local model
DOC_PARSER_USE_HTTP=false
DOC_PARSER_HTTP_URL=http://localhost:8805

#-----------------------------------------------
# Feature Flags
#-----------------------------------------------
USE_HTTP_HANDLERS=true
MEMORY_ENABLED=true
AUDIT_ENABLED=true

#-----------------------------------------------
# Paths
#-----------------------------------------------
DATA_DIR=data
LOGS_DIR=logs
CONFIG_DIR=config
